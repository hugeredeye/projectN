# Настройка VPN в проекте

Проект настроен для автоматического подключения к VPN при запуске Docker-контейнера.

## Используемые файлы

1. `turk5_247479803.ovpn` - конфигурационный файл OpenVPN
2. `vpn-up.sh` - скрипт для настройки сети после подключения VPN
3. `.env` - файл с переменными окружения (содержит GSK_KEY)

## Как это работает

При запуске контейнера:
1. OpenVPN клиент запускается в фоновом режиме
2. Подключение к VPN устанавливается автоматически
3. Запускается основное приложение

## Запуск проекта

Для запуска проекта с настроенным VPN выполните следующие команды:

```bash
# Сборка и запуск контейнеров
docker-compose up --build -d

# Проверка логов контейнера приложения
docker-compose logs -f app
```

## Проверка VPN-соединения

Чтобы проверить, что VPN-соединение успешно установлено, выполните:

```bash
# Подключение к контейнеру
docker-compose exec app bash

# Проверка сетевых интерфейсов (должен быть виден tun0)
ip addr | grep tun

# Проверка маршрутизации
ip route

# Проверка IP-адреса
curl -s https://ipinfo.io
```

## Решение проблем

Если VPN не подключается, проверьте:

1. Логи OpenVPN в контейнере:
```bash
docker-compose exec app cat /var/log/openvpn.log
```

2. Проверьте права доступа к файлу конфигурации:
```bash
docker-compose exec app ls -la /etc/openvpn/
```

3. Проверьте параметры контейнера в docker-compose.yml (cap_add, privileged) 